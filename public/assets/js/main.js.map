{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["\"use strict\";\n\nlet recipes = [];\n\nconst listRecipes = document.querySelector(\".js-recipes\");\nconst saveDatabtn = document.querySelector(\".js-saveData\");\nconst loadDatabtn = document.querySelector(\".js-loadData\");\nconst searchInput = document.querySelector(\".js-text\");\nconst saveBtn = document.querySelector(\".js-savebutton\");\nconst recBtn = document.querySelector(\".js-recoverbutton\");\nconst choosenRecipes = document.querySelector(\".js-choosen\");\nconst recipeSelection = document.querySelector(\".js-recipeFavourites\");\nlet favouritesRecipes = window.localStorage.getItem(\"recipes\")\n  ? JSON.parse(window.localStorage.getItem(\"recipes\"))\n  : [];\n\nfunction getData() {\n  fetch(\"https://api.sampleapis.com/recipes/recipes\")\n    .then((response) => response.json())\n    .then(function (data) {\n      //saveRecipes(data);\n      paintRecipes(listRecipes, data);\n      recBtn.addEventListener(\"click\", recRecipes);\n      //paintFavourites(favouritesRecipes);\n      bindRecipes(data);\n      searchByType(data);\n    })\n    .catch(showError);\n  function showError(error) {\n    // alert(\"Datos no disponibles\");\n    listRecipes.innerHTML = `<button class=\"reload\" onclick=location.reload()>Recargar</button>`;\n  }\n  function paintFavourites(favouritesRecipes) {\n    paintRecipes(recipeSelection, favouritesRecipes);\n  }\n  function paintRecipes(element, recipe) {\n    for (let i = 0; i < recipe.length; i++) {\n      element.innerHTML += `<div id=\"${recipe[i].id}\" class=\"recipe\"><br>${recipe[i].title}<br>Tipo de cocina: ${recipe[i].cuisine}<br>Etiquetas: ${recipe[i].tags}<br> <img class=\"image\"  src=${recipe[i].photoUrl}><br class=\"calories\">Calorias: ${recipe[i].calories}</div>`;\n    }\n  }\n  function bindRecipes(data) {\n    for (const recipe of document.querySelectorAll(\".recipe\")) {\n      recipe.addEventListener(\"click\", (event) => {\n        console.log(\"holi\");\n        const recipeInformation = data.find((recipe) => {\n          if (recipe.id === parseInt(event.target.id)) {\n            console.log(recipe);\n            return recipe;\n          }\n        });\n        favouritesRecipes.push(recipeInformation);\n        localStorage.setItem(\"recipes\", JSON.stringify(favouritesRecipes));\n\n        //js-recipeFavourites\n        const newFav = `<li class=\"fav js-recipeFavourites\" id=${recipe[i].id}><div>${recipeInformation.recipe[i]}</div>`;\n        console.log(newFav);\n        favList.innerHTML += newFav;\n      });\n    }\n  }\n  function recRecipes() {\n    console.log(\"hola\");\n    listRecipes.innerHTML = \"\";\n    let saveRecipes = JSON.parse(localStorage.getItem(\"recipes\"));\n    console.log(saveRecipes);\n    paintRecipes(listRecipes, saveRecipes);\n    let totalRecipes = 0;\n    for (let cont = 0; cont < recipes.length; cont++) {\n      const isRecipe = recipes[cont].isRecipe;\n      if (isRecipe === true) { \n        totalRecipes++;\n      }\n    }\n  }\n}\n\n  function searchByType(foods) {\n    searchInput.addEventListener(\"input\", (e) => {\n      listRecipes.innerHTML = \"\";\n      for (let iFoods = 0; iFoods < foods.length; iFoods++) {\n        if (searchInput.value === foods[iFoods].cuisine) {\n          listRecipes.innerHTML += `<div class=\"recipe\"> ${foods[iFoods].title} <br><br>${foods[iFoods].cuisine}<br>${foods[iFoods].tags}<br> <img class=\"image\" src=${foods[iFoods].photoUrl}><br>Calorias: ${foods[iFoods].calories}</div>`;\n        }\n      }\n    });\n  }\n\n  /* \n     function handleBtns() {\n      saveBtn.addEventListener(\"click\", saveRecipes);\n      \n  \n      function saveRecipes() {\n      localStorage.setItem(\"recipes\", JSON.stringify(recipes));\n    }\n\n    function saveRecipes(data) {\n    let recipes = [];\n    for (const dato of data) {\n      recipes = {\n        title: dato.title,\n        cuisine: dato.cuisine,\n        tags: dato.tags,\n        photoUrl: dato.photoUrl,\n        calories: dato.calories,\n        isRecipe: false,\n      };\n    }\n    console.log(recipes);\n  }*/\n\n    \n  //}\n//}\n\n//funcion eliminar lista favoritos por recarga\n\n/*btnReset.addEventListener(\"click\", (del) => {\n  del.preventDefault();\n  if (favouritesDrinks.length > 0) {\n    favList.innerHTML = \"\";\n    favouritesDrinks =[];\n    localStorage.removeItem(\"drinks\");\n  }\n});*/\n"]}